<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.427">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="Finding what Makes Spiritual Channels A Hit">

<title>Data Science Blog - Yuvraj Dhepe - Youtube API Scraping of Spiritual Channels</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../images/lotus.jpg" rel="icon" type="image/jpeg">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark.min.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


<link rel="stylesheet" href="../../styles.css">
<meta property="og:title" content="Data Science Blog - Yuvraj Dhepe - Youtube API Scraping of Spiritual Channels">
<meta property="og:description" content="Finding what Makes Spiritual Channels A Hit">
<meta property="og:image" content="https://github.com/Yuvraj-Dhepe/DataBlog_V1/docs/projects/images/Yt_Scraping.png">
<meta property="og:site-name" content="Data Science Blog - Yuvraj Dhepe">
<meta property="og:image:height" content="520">
<meta property="og:image:width" content="1020">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html" rel="" target="">
 <span class="menu-text">Hello There</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../docs/projects/index.html" rel="" target="">
 <span class="menu-text">Projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../docs/blog/index.html" rel="" target="">
 <span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../docs/notes/index.html" rel="" target="">
 <span class="menu-text">Notes</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto tools-wide">
    <a href="https://github.com/Yuvraj-Dhepe" rel="" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#exploratory-data-anlysis-using-youtube-data-videos-from-most-popular-indian-spirituality-channels" id="toc-exploratory-data-anlysis-using-youtube-data-videos-from-most-popular-indian-spirituality-channels" class="nav-link active" data-scroll-target="#exploratory-data-anlysis-using-youtube-data-videos-from-most-popular-indian-spirituality-channels">Exploratory Data Anlysis Using Youtube Data Videos from Most Popular Indian Spirituality Channels</a>
  <ul class="collapse">
  <li><a href="#aims-objectives-steps-background" id="toc-aims-objectives-steps-background" class="nav-link" data-scroll-target="#aims-objectives-steps-background">1. Aims, Objectives, Steps &amp; Background</a>
  <ul class="collapse">
  <li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction">1.1 Introduction</a></li>
  <li><a href="#aims-and-objectives" id="toc-aims-and-objectives" class="nav-link" data-scroll-target="#aims-and-objectives">1.2 Aims and Objectives</a></li>
  <li><a href="#steps-of-the-project" id="toc-steps-of-the-project" class="nav-link" data-scroll-target="#steps-of-the-project">1.3 Steps of the project</a></li>
  <li><a href="#dataset" id="toc-dataset" class="nav-link" data-scroll-target="#dataset">1.4 Dataset</a></li>
  </ul></li>
  <li><a href="#library-imports" id="toc-library-imports" class="nav-link" data-scroll-target="#library-imports">Library Imports</a></li>
  <li><a href="#data-creation-with-youtube-api" id="toc-data-creation-with-youtube-api" class="nav-link" data-scroll-target="#data-creation-with-youtube-api">Data Creation with Youtube API</a>
  <ul class="collapse">
  <li><a href="#functions" id="toc-functions" class="nav-link" data-scroll-target="#functions">Functions</a></li>
  <li><a href="#get-channel-statistics" id="toc-get-channel-statistics" class="nav-link" data-scroll-target="#get-channel-statistics">Get Channel statistics</a></li>
  <li><a href="#popularity-measure-via-number-of-subscribers-per-channel" id="toc-popularity-measure-via-number-of-subscribers-per-channel" class="nav-link" data-scroll-target="#popularity-measure-via-number-of-subscribers-per-channel">Popularity Measure via Number of Subscribers Per Channel</a></li>
  <li><a href="#popularity-measure-via-number-of-views-per-channel" id="toc-popularity-measure-via-number-of-views-per-channel" class="nav-link" data-scroll-target="#popularity-measure-via-number-of-views-per-channel">Popularity measure via Number of Views Per Channel</a></li>
  <li><a href="#get-video-statistics-for-all-the-channels" id="toc-get-video-statistics-for-all-the-channels" class="nav-link" data-scroll-target="#get-video-statistics-for-all-the-channels">Get video statistics for all the channels</a></li>
  </ul></li>
  <li><a href="#preprocessing-feature-engineering" id="toc-preprocessing-feature-engineering" class="nav-link" data-scroll-target="#preprocessing-feature-engineering">Preprocessing &amp; Feature Engineering</a>
  <ul class="collapse">
  <li><a href="#check-for-empty-values" id="toc-check-for-empty-values" class="nav-link" data-scroll-target="#check-for-empty-values">Check for empty values</a></li>
  <li><a href="#formatting-dates" id="toc-formatting-dates" class="nav-link" data-scroll-target="#formatting-dates">Formatting Dates</a></li>
  <li><a href="#correcting-data-types" id="toc-correcting-data-types" class="nav-link" data-scroll-target="#correcting-data-types">Correcting Data types</a></li>
  </ul></li>
  <li><a href="#exploratory-analysis" id="toc-exploratory-analysis" class="nav-link" data-scroll-target="#exploratory-analysis">Exploratory Analysis</a>
  <ul class="collapse">
  <li><a href="#checking-total-videos-per-channel" id="toc-checking-total-videos-per-channel" class="nav-link" data-scroll-target="#checking-total-videos-per-channel">Checking total videos per channel</a></li>
  <li><a href="#checking-number-of-videos-per-channel-per-year" id="toc-checking-number-of-videos-per-channel-per-year" class="nav-link" data-scroll-target="#checking-number-of-videos-per-channel-per-year">Checking number of videos per channel per year</a></li>
  <li><a href="#views-distribution-per-channel-via-boxplot-and-violinplot" id="toc-views-distribution-per-channel-via-boxplot-and-violinplot" class="nav-link" data-scroll-target="#views-distribution-per-channel-via-boxplot-and-violinplot">Views distribution per channel via BoxPlot and ViolinPlot</a></li>
  <li><a href="#does-the-number-of-likes-and-comments-matter-for-a-video-to-get-more-views" id="toc-does-the-number-of-likes-and-comments-matter-for-a-video-to-get-more-views" class="nav-link" data-scroll-target="#does-the-number-of-likes-and-comments-matter-for-a-video-to-get-more-views">Does the number of likes and comments matter for a video to get more views?</a></li>
  <li><a href="#does-the-video-duration-matter-for-views-and-interaction-likes-comments" id="toc-does-the-video-duration-matter-for-views-and-interaction-likes-comments" class="nav-link" data-scroll-target="#does-the-video-duration-matter-for-views-and-interaction-likes-comments">Does the video duration matter for views and interaction (likes/ comments)?</a></li>
  <li><a href="#does-title-length-matter-for-views" id="toc-does-title-length-matter-for-views" class="nav-link" data-scroll-target="#does-title-length-matter-for-views">Does title length matter for views?</a></li>
  </ul></li>
  <li><a href="#wordcloud-for-words-in-title" id="toc-wordcloud-for-words-in-title" class="nav-link" data-scroll-target="#wordcloud-for-words-in-title">Wordcloud for words in title</a>
  <ul class="collapse">
  <li><a href="#number-of-tags-vs-views" id="toc-number-of-tags-vs-views" class="nav-link" data-scroll-target="#number-of-tags-vs-views">Number of tags vs views</a></li>
  <li><a href="#which-day-in-the-week-are-most-videos-uploaded" id="toc-which-day-in-the-week-are-most-videos-uploaded" class="nav-link" data-scroll-target="#which-day-in-the-week-are-most-videos-uploaded">Which day in the week are most videos uploaded</a></li>
  </ul></li>
  <li><a href="#wordcloud-for-video-comments" id="toc-wordcloud-for-video-comments" class="nav-link" data-scroll-target="#wordcloud-for-video-comments">Wordcloud for video comments</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.dev/quarto-dev/quarto-demo/blob/main/docs/projects/Youtube_API_EDA.ipynb" class="toc-action">Edit this page</a></p><p><a href="https://github.com/quarto-dev/quarto-demo/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Youtube API Scraping of Spiritual Channels</h1>
  <div class="quarto-categories">
    <div class="quarto-category">Web Scraping</div>
    <div class="quarto-category">Data Analysis</div>
  </div>
  </div>

<div>
  <div class="description">
    Finding what Makes Spiritual Channels A Hit
  </div>
</div>


<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="exploratory-data-anlysis-using-youtube-data-videos-from-most-popular-indian-spirituality-channels" class="level1">
<h1>Exploratory Data Anlysis Using Youtube Data Videos from Most Popular Indian Spirituality Channels</h1>
<section id="before-we-begin-the-project-i-would-like-to-acknowledge-the-the-vu-data-analytics-youtube-creator-from-where-i-got-the-idea-to-scrape-youtube-videos-and-began-web-scraping-of-youtube-spirituality-channels-to-gain-meaningful-insights" class="level4">
<h4 class="anchored" data-anchor-id="before-we-begin-the-project-i-would-like-to-acknowledge-the-the-vu-data-analytics-youtube-creator-from-where-i-got-the-idea-to-scrape-youtube-videos-and-began-web-scraping-of-youtube-spirituality-channels-to-gain-meaningful-insights">Before we begin the project I would like to acknowledge the ✨<a href="https://www.youtube.com/@Thuvu5">The Vu Data Analytics Youtube Creator</a>✨, from where I got the idea to scrape Youtube Videos and began web-scraping of youtube spirituality channels to gain meaningful insights</h4>
</section>
<section id="aims-objectives-steps-background" class="level2">
<h2 class="anchored" data-anchor-id="aims-objectives-steps-background">1. Aims, Objectives, Steps &amp; Background</h2>
<section id="introduction" class="level3">
<h3 class="anchored" data-anchor-id="introduction">1.1 Introduction</h3>
<p>With millions of users and billions of views, YouTube has become a major platform for spirituality content creators to share their knowledge and insights with a global audience. However, understanding what makes a video successful on YouTube can be a challenge, as the platform’s algorithm is complex and constantly evolving. Aspiring spirituality content creators can benefit from analyzing successful channels in their niche and identifying trends in their topics and presentation styles. In this project, we will explore the statistics of 9 popular spirituality channels on YouTube to gain insights on their audience, content, and engagement metrics.</p>
</section>
<section id="aims-and-objectives" class="level3">
<h3 class="anchored" data-anchor-id="aims-and-objectives">1.2 Aims and Objectives</h3>
<p>Within this project, I would like to explore the following:</p>
<ul>
<li>Getting to know Youtube API and how to obtain video data.</li>
<li>Analyzing video data and verify different common “myths” about what makes a video do well on Youtube, for example:
<ul>
<li>Does the number of likes and comments matter for a video to get more views?</li>
<li>Does the video duration matter for views and interaction (likes/ comments)?</li>
<li>Does title length matter for views?</li>
<li>How many tags do good performing videos have? What are the common tags among these videos?</li>
<li>Across all the creators I take into consideration, how often do they upload new videos? On which days in the week?</li>
</ul></li>
<li>Explore the trending topics using NLP techniques
<ul>
<li>Which popular topics are being covered in the videos (e.g.&nbsp;using wordcloud for video titles)?</li>
</ul></li>
<li>Which questions are being asked in the comment sections in the videos</li>
</ul>
</section>
<section id="steps-of-the-project" class="level3">
<h3 class="anchored" data-anchor-id="steps-of-the-project">1.3 Steps of the project</h3>
<ul>
<li>Obtain video meta data via the API app, from top 10 youtube niche channels.</li>
<li>Preprocess data and engineer aditional features for analysis</li>
<li>Exploratory data analysis</li>
<li>Conclusions</li>
</ul>
</section>
<section id="dataset" class="level3">
<h3 class="anchored" data-anchor-id="dataset">1.4 Dataset</h3>
<ul>
<li>Created my own dataset usign the Google API version 3.0</li>
<li>The channels are included as per my liking and self-thoughts about spirituality.</li>
<li>Also I have chosen channels based on their subscriber counts.</li>
</ul>
</section>
</section>
<section id="library-imports" class="level2">
<h2 class="anchored" data-anchor-id="library-imports">Library Imports</h2>
<div class="cell" data-tags="[]" data-execution_count="158">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> time</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> dateutil <span class="im">import</span> parser</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> isodate</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> datetime</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Data visualization libraries</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="co">#matplotlib.use('TkAgg') #default backend 'module://matplotlib_inline.backend_inline'</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.ticker <span class="im">as</span> ticker</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.font_manager <span class="im">as</span> fm</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>sns.<span class="bu">set</span>(style <span class="op">=</span> <span class="st">'darkgrid'</span>, color_codes<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>sns.<span class="bu">set</span>(rc<span class="op">=</span>{<span class="st">'figure.figsize'</span>:(<span class="dv">10</span>,<span class="dv">8</span>),<span class="st">'figure.dpi'</span>:<span class="dv">150</span>}) <span class="co">#fig = plt.figure(dpi=200,figsize = (16,20)) similar</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="co">#matplotlib.use("TkAgg")</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="op">%</span>matplotlib inline</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="co"># #plt.rcParams['font.family'] = 'Lohit-Devanagari'</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="co"># #plt.rcParams["font.path"] = "/usr/share/fonts/truetype/lohit-devanagari/Lohit-Devanagari.ttf"</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a><span class="co"># english_font = fm.FontProperties(family = 'Arial', size = 14)</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a><span class="co"># #mangal_font = fm.FontProperties(fname = "~/downloads/fonts/mangal.ttf",size = 14)</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a><span class="co"># #%matplotlib inline</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a><span class="co">#NLP Libraries</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> nltk</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> nltk.corpus <span class="im">import</span> stopwords</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> nltk.tokenize <span class="im">import</span> word_tokenize</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>nltk.download(<span class="st">'stopwords'</span>)</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>nltk.download(<span class="st">'punkt'</span>)</span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> wordcloud <span class="im">import</span> WordCloud</span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a><span class="co"># To install wordcloud use: python -m pip install -e git+https://github.com/amueller/word_cloud#egg=wordcloud</span></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a><span class="co"># Google API</span></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> googleapiclient.discovery <span class="im">import</span> build</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>[nltk_data] Downloading package stopwords to
[nltk_data]     /home/yuvi_dh/nltk_data...
[nltk_data]   Package stopwords is already up-to-date!
[nltk_data] Downloading package punkt to /home/yuvi_dh/nltk_data...
[nltk_data]   Package punkt is already up-to-date!</code></pre>
</div>
</div>
</section>
<section id="data-creation-with-youtube-api" class="level2">
<h2 class="anchored" data-anchor-id="data-creation-with-youtube-api">Data Creation with Youtube API</h2>
<ul>
<li>Created a project on Google Developer Console</li>
<li>Requested an Authorization Credential API Key</li>
<li>Enabled Youtube API for the project work to send API requests to Youtube API services.</li>
<li>Got the channel ID’s from my favorite channels which I would like to get stats on.</li>
<li>Finally created the functions for getting the channel stats.</li>
</ul>
<div class="cell" data-tags="[]" data-execution_count="159">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>api_key_1 <span class="op">=</span> os.environ.get(<span class="st">'yt_1'</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co">#api_key_2 = os.environ.get('yt_2')</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co">#api_key_3 = os.environ.get('yt_3')</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co">#api_key = api_key_1</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co">#print(api_key)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-tags="[]" data-execution_count="160">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>api_key_1 <span class="op">=</span> os.environ.get(<span class="st">'yt_1'</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>api_key_2 <span class="op">=</span> os.environ.get(<span class="st">'yt_2'</span>)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>api_key_3 <span class="op">=</span> os.environ.get(<span class="st">'yt_3'</span>)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>api_key <span class="op">=</span> api_key_1</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="co">#print(api_key)</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="co"># channel_ids = ['UCCy2rLnGdwoJcSAtixNdsPQ', # The Sanskrit Channel</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="co">#               'UCzszIh4jH06kYp7k_DxhH5A',  # Chinmaya Channel</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="co">#               'UCtDAJiFT4sy42oNPA8zo0sw',  # Star Bharat</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="co">#               'UCdsQsaeI8pQZtgrMmbjGUug',  # Swaminarayan Aksharpith</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="co">#               'UCqFg6QnwgtVHo1iFgpxrx-A',  # Mayapur TV</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="co">#               'UCutvkeF3tVgItCX31QhJ2Dw',  # Nova Spiritual India</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="co">#               'UCypj9Vvizo4cCERfDFIG3zw',  # Shemaroo Bhakti Darshan</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a><span class="co">#               'UCxoQaZS8YdKkyfBwGZay-Xg',  # Hyper Quest</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a><span class="co">#               'UC8HRYUBXTHv4mJ67Y5FitSg']  # Rajshri Soul</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>channel_ids <span class="op">=</span> [</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">"UCgeicB5AuF3MyyUto0-M5Lw"</span>,  <span class="co"># Actualized.org</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">"UCOnnmKlDZltHAqJLz-XIpGA"</span>,  <span class="co"># Universe Inside You</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>    <span class="st">"UC48MclMZIY_EaOQwatzCpvw"</span>,  <span class="co"># Aaron Doughty</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>    <span class="st">"UCg3F5jxUrSvJQICen48cX4w"</span>,  <span class="co"># Mindvalley</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>    <span class="st">"UCEcMWs6GudljuLw0-Umf97A"</span>,  <span class="co"># Spirit Science</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>    <span class="st">"UCFVqzO9_qHVckKqNC95o9tw"</span>,  <span class="co"># Gaia    </span></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>    <span class="st">"UC7IcJI8PUf5Z3zKxnZvTBog"</span>,  <span class="co"># The School of Life</span></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>    <span class="st">"UCz22l7kbce-uFJAoaZqxD1A"</span>,  <span class="co"># Gaur Gopal Das</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>    <span class="st">"UCFJZQtrh5Ksncayy2FaoNbQ"</span>,  <span class="co"># Vishuddha Das</span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>    <span class="st">"UCkJEpR7JmS36tajD34Gp4VA"</span>,  <span class="co"># Psych2Go</span></span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>youtube <span class="op">=</span> build(<span class="st">'youtube'</span>, <span class="st">'v3'</span>,developerKey<span class="op">=</span>api_key)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="functions" class="level3">
<h3 class="anchored" data-anchor-id="functions">Functions</h3>
<div class="cell" data-tags="[]" data-execution_count="161">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_channel_stats(channel_ids,yt<span class="op">=</span>youtube):</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">'''</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co">    Get Channel statistics: title subscriber count, view count, video count, upload playlist</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co">    </span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="co">    Params:</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="co">    youtube: the build object from googleapiclient.discovery</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co">    channel_ids: list of channel IDs</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="co">    </span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="co">    Dataframe containing the channel statistics for all channels in the provided list</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="co">    </span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="co">    '''</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>    all_data <span class="op">=</span> []</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>    request <span class="op">=</span> youtube.channels().<span class="bu">list</span>(</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>        part <span class="op">=</span> <span class="st">'snippet,contentDetails,statistics,brandingSettings'</span>,</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>        <span class="bu">id</span><span class="op">=</span><span class="st">','</span>.join(channel_ids))</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>    response <span class="op">=</span> request.execute()</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(response[<span class="st">'items'</span>])):</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>        data <span class="op">=</span> <span class="bu">dict</span>(channelName <span class="op">=</span> response[<span class="st">'items'</span>][i][<span class="st">'snippet'</span>][<span class="st">'title'</span>],</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>                    <span class="co">#countryName = response['items'][i]['snippet']["country"],</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>                    subscribers <span class="op">=</span> response[<span class="st">'items'</span>][i][<span class="st">'statistics'</span>][<span class="st">'subscriberCount'</span>],</span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>                    views <span class="op">=</span> response[<span class="st">'items'</span>][i][<span class="st">'statistics'</span>][<span class="st">'viewCount'</span>],</span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>                    totalVideos <span class="op">=</span> response[<span class="st">'items'</span>][i][<span class="st">'statistics'</span>][<span class="st">'videoCount'</span>],</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>                    playlistId <span class="op">=</span> response[<span class="st">'items'</span>][i][<span class="st">'contentDetails'</span>][<span class="st">'relatedPlaylists'</span>][<span class="st">'uploads'</span>],</span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>                   publishedAt <span class="op">=</span> isodate.parse_datetime(response[<span class="st">'items'</span>][i][<span class="st">'snippet'</span>][<span class="st">'publishedAt'</span>]))</span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>                    </span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>        all_data.append(data)</span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> pd.DataFrame(all_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-tags="[]" data-execution_count="162">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_video_ids(playlist_id, max_results<span class="op">=</span><span class="dv">1500</span>,yt <span class="op">=</span> youtube):</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co">    Get list of video IDs of all videos in the given playlist, up to a maximum of 1500 videos</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co">    Params:</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="co">    </span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="co">    youtube: the build object from googleapiclient.discovery</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="co">    playlist_id: playlist ID of the channel</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="co">    max_results: maximum number of videos to retrieve (default: 1500)</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="co">    </span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="co">    List of video IDs of all videos in the playlist, up to the maximum number of videos specified</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a><span class="co">    </span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>    request <span class="op">=</span> youtube.playlistItems().<span class="bu">list</span>(</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>                part<span class="op">=</span><span class="st">'contentDetails'</span>,</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>                playlistId <span class="op">=</span> playlist_id,</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>                maxResults <span class="op">=</span> <span class="bu">min</span>(max_results, <span class="dv">50</span>))</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>    response <span class="op">=</span> request.execute()</span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>    video_ids <span class="op">=</span> []</span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>    num_videos <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(response[<span class="st">'items'</span>])):</span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>        video_ids.append(response[<span class="st">'items'</span>][i][<span class="st">'contentDetails'</span>][<span class="st">'videoId'</span>])</span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>        num_videos <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> num_videos <span class="op">&gt;=</span> max_results:</span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>            <span class="cf">break</span></span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>    next_page_token <span class="op">=</span> response.get(<span class="st">'nextPageToken'</span>)</span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>    more_pages <span class="op">=</span> <span class="va">True</span></span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> more_pages <span class="kw">and</span> num_videos <span class="op">&lt;</span> max_results:</span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> next_page_token <span class="kw">is</span> <span class="va">None</span>:</span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a>            more_pages <span class="op">=</span> <span class="va">False</span></span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a>            request <span class="op">=</span> youtube.playlistItems().<span class="bu">list</span>(</span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a>                        part<span class="op">=</span><span class="st">'contentDetails'</span>,</span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a>                        playlistId <span class="op">=</span> playlist_id,</span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a>                        maxResults <span class="op">=</span> <span class="bu">min</span>(max_results <span class="op">-</span> num_videos, <span class="dv">50</span>),</span>
<span id="cb6-41"><a href="#cb6-41" aria-hidden="true" tabindex="-1"></a>                        pageToken <span class="op">=</span> next_page_token)</span>
<span id="cb6-42"><a href="#cb6-42" aria-hidden="true" tabindex="-1"></a>            response <span class="op">=</span> request.execute()</span>
<span id="cb6-43"><a href="#cb6-43" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-44"><a href="#cb6-44" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(response[<span class="st">'items'</span>])):</span>
<span id="cb6-45"><a href="#cb6-45" aria-hidden="true" tabindex="-1"></a>                video_ids.append(response[<span class="st">'items'</span>][i][<span class="st">'contentDetails'</span>][<span class="st">'videoId'</span>])</span>
<span id="cb6-46"><a href="#cb6-46" aria-hidden="true" tabindex="-1"></a>                num_videos <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb6-47"><a href="#cb6-47" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> num_videos <span class="op">&gt;=</span> max_results:</span>
<span id="cb6-48"><a href="#cb6-48" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">break</span></span>
<span id="cb6-49"><a href="#cb6-49" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb6-50"><a href="#cb6-50" aria-hidden="true" tabindex="-1"></a>            next_page_token <span class="op">=</span> response.get(<span class="st">'nextPageToken'</span>)</span>
<span id="cb6-51"><a href="#cb6-51" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb6-52"><a href="#cb6-52" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> video_ids</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-tags="[]" data-execution_count="163">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_video_details(video_ids,yt <span class="op">=</span> youtube):</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co">    Get video statistics of all videos with given IDs</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co">    Params:</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="co">    </span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co">    youtube: the build object from googleapiclient.discovery</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="co">    video_ids: list of video IDs</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="co">    </span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="co">    Dataframe with statistics of videos, i.e.:</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="co">        'channelTitle', 'title', 'description', 'tags', 'publishedAt'</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a><span class="co">        'viewCount', 'likeCount', 'favoriteCount', 'commentCount'</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a><span class="co">        'duration', 'definition', 'caption'</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>    all_video_info <span class="op">=</span> []</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>, <span class="bu">len</span>(video_ids), <span class="dv">50</span>):</span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>        request <span class="op">=</span> youtube.videos().<span class="bu">list</span>(</span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>            part<span class="op">=</span><span class="st">"snippet,contentDetails,statistics"</span>,</span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>            <span class="bu">id</span><span class="op">=</span><span class="st">','</span>.join(video_ids[i:i<span class="op">+</span><span class="dv">50</span>])</span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>        response <span class="op">=</span> request.execute() </span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> video <span class="kw">in</span> response[<span class="st">'items'</span>]:</span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>            stats_to_keep <span class="op">=</span> {<span class="st">'snippet'</span>: [<span class="st">'channelTitle'</span>, <span class="st">'title'</span>, <span class="st">'description'</span>, <span class="st">'tags'</span>, <span class="st">'publishedAt'</span>],</span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>                             <span class="st">'statistics'</span>: [<span class="st">'viewCount'</span>, <span class="st">'likeCount'</span>, <span class="st">'favouriteCount'</span>, <span class="st">'commentCount'</span>],</span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>                             <span class="st">'contentDetails'</span>: [<span class="st">'duration'</span>, <span class="st">'definition'</span>, <span class="st">'caption'</span>]</span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>                            }</span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a>            video_info <span class="op">=</span> {}</span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a>            video_info[<span class="st">'video_id'</span>] <span class="op">=</span> video[<span class="st">'id'</span>]</span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> k <span class="kw">in</span> stats_to_keep.keys():</span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a>                <span class="cf">for</span> v <span class="kw">in</span> stats_to_keep[k]:</span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">try</span>:</span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a>                        video_info[v] <span class="op">=</span> video[k][v]</span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">except</span>:</span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a>                        video_info[v] <span class="op">=</span> <span class="va">None</span></span>
<span id="cb7-39"><a href="#cb7-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-40"><a href="#cb7-40" aria-hidden="true" tabindex="-1"></a>            all_video_info.append(video_info)</span>
<span id="cb7-41"><a href="#cb7-41" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb7-42"><a href="#cb7-42" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> pd.DataFrame(all_video_info)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-tags="[]" data-execution_count="164">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_comments_in_videos(video_ids, yt <span class="op">=</span> youtube):</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co">    Get top level comments as text from all videos with given IDs (only the first 10 comments due to quote limit of Youtube API)</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co">    Params:</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="co">    </span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="co">    youtube: the build object from googleapiclient.discovery</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="co">    video_ids: list of video IDs</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="co">    </span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="co">    Dataframe with video IDs and associated top level comment in text.</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="co">    </span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>    all_comments <span class="op">=</span> []</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> video_id <span class="kw">in</span> video_ids:</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>        <span class="cf">try</span>:   </span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>            request <span class="op">=</span> youtube.commentThreads().<span class="bu">list</span>(</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>                part<span class="op">=</span><span class="st">"snippet,replies"</span>,</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>                videoId<span class="op">=</span>video_id</span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>            response <span class="op">=</span> request.execute()</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>            comments_in_video <span class="op">=</span> [comment[<span class="st">'snippet'</span>][<span class="st">'topLevelComment'</span>][<span class="st">'snippet'</span>][<span class="st">'textOriginal'</span>] <span class="cf">for</span> comment <span class="kw">in</span> response[<span class="st">'items'</span>][<span class="dv">0</span>:<span class="dv">10</span>]]</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>            comments_in_video_info <span class="op">=</span> {<span class="st">'video_id'</span>: video_id, <span class="st">'comments'</span>: comments_in_video}</span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>            all_comments.append(comments_in_video_info)</span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>        <span class="cf">except</span>: </span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>            <span class="co"># When error occurs - most likely because comments are disabled on a video</span></span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">'Could not get comments for video '</span> <span class="op">+</span> video_id)</span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> pd.DataFrame(all_comments) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="get-channel-statistics" class="level3">
<h3 class="anchored" data-anchor-id="get-channel-statistics">Get Channel statistics</h3>
<p>Using the get_channel_stats function defined below, now we are going to obtain the channel statistics for the above channels in scope</p>
<div class="cell" data-tags="[]" data-execution_count="165">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>channel_data <span class="op">=</span> get_channel_stats(channel_ids)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>channel_data.to_csv(<span class="st">"./files/spiritual_channel_data_original.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-tags="[]" data-execution_count="166">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co">#channel_data</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-tags="[]" data-execution_count="167">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Creation of copy so that I save a dummy df and also a csv, to not keep reusing youtube credits i.e. 10k per day.</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>l_channel_data <span class="op">=</span> pd.read_csv(<span class="st">"./files/spiritual_channel_data_original.csv"</span>,index_col<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>l_channel_data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="167">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">channelName</th>
<th data-quarto-table-cell-role="th">subscribers</th>
<th data-quarto-table-cell-role="th">views</th>
<th data-quarto-table-cell-role="th">totalVideos</th>
<th data-quarto-table-cell-role="th">playlistId</th>
<th data-quarto-table-cell-role="th">publishedAt</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Aaron Doughty</td>
<td>1450000</td>
<td>141121587</td>
<td>1793</td>
<td>UU48MclMZIY_EaOQwatzCpvw</td>
<td>2014-07-10 04:24:58+00:00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>The School of Life</td>
<td>8380000</td>
<td>820210489</td>
<td>902</td>
<td>UU7IcJI8PUf5Z3zKxnZvTBog</td>
<td>2010-05-18 16:46:57+00:00</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Psych2Go</td>
<td>10800000</td>
<td>1477376571</td>
<td>2380</td>
<td>UUkJEpR7JmS36tajD34Gp4VA</td>
<td>2014-10-05 06:27:31+00:00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Gaia</td>
<td>1520000</td>
<td>127649328</td>
<td>645</td>
<td>UUFVqzO9_qHVckKqNC95o9tw</td>
<td>2008-08-06 15:26:41+00:00</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Universe Inside You</td>
<td>1790000</td>
<td>118060252</td>
<td>126</td>
<td>UUOnnmKlDZltHAqJLz-XIpGA</td>
<td>2017-03-30 10:55:39+00:00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>Mindvalley</td>
<td>2260000</td>
<td>468381830</td>
<td>1662</td>
<td>UUg3F5jxUrSvJQICen48cX4w</td>
<td>2014-04-23 08:21:13+00:00</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>Gaur Gopal Das</td>
<td>4860000</td>
<td>288878180</td>
<td>356</td>
<td>UUz22l7kbce-uFJAoaZqxD1A</td>
<td>2016-04-12 18:16:24+00:00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>Vishuddha Das</td>
<td>596000</td>
<td>40838427</td>
<td>381</td>
<td>UUFJZQtrh5Ksncayy2FaoNbQ</td>
<td>2014-09-24 14:04:59+00:00</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>Actualized.org</td>
<td>1100000</td>
<td>107549192</td>
<td>528</td>
<td>UUgeicB5AuF3MyyUto0-M5Lw</td>
<td>2012-01-23 20:08:34+00:00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>Spirit Science</td>
<td>1300000</td>
<td>79311991</td>
<td>306</td>
<td>UUEcMWs6GudljuLw0-Umf97A</td>
<td>2011-12-29 05:49:29+00:00</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell" data-tags="[]" data-execution_count="168">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Copy used for further manipulation and original of l_channel_data can be used to load this chdd any time.</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>chdd <span class="op">=</span> l_channel_data.copy()</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>chdd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="168">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">channelName</th>
<th data-quarto-table-cell-role="th">subscribers</th>
<th data-quarto-table-cell-role="th">views</th>
<th data-quarto-table-cell-role="th">totalVideos</th>
<th data-quarto-table-cell-role="th">playlistId</th>
<th data-quarto-table-cell-role="th">publishedAt</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Aaron Doughty</td>
<td>1450000</td>
<td>141121587</td>
<td>1793</td>
<td>UU48MclMZIY_EaOQwatzCpvw</td>
<td>2014-07-10 04:24:58+00:00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>The School of Life</td>
<td>8380000</td>
<td>820210489</td>
<td>902</td>
<td>UU7IcJI8PUf5Z3zKxnZvTBog</td>
<td>2010-05-18 16:46:57+00:00</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Psych2Go</td>
<td>10800000</td>
<td>1477376571</td>
<td>2380</td>
<td>UUkJEpR7JmS36tajD34Gp4VA</td>
<td>2014-10-05 06:27:31+00:00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Gaia</td>
<td>1520000</td>
<td>127649328</td>
<td>645</td>
<td>UUFVqzO9_qHVckKqNC95o9tw</td>
<td>2008-08-06 15:26:41+00:00</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Universe Inside You</td>
<td>1790000</td>
<td>118060252</td>
<td>126</td>
<td>UUOnnmKlDZltHAqJLz-XIpGA</td>
<td>2017-03-30 10:55:39+00:00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>Mindvalley</td>
<td>2260000</td>
<td>468381830</td>
<td>1662</td>
<td>UUg3F5jxUrSvJQICen48cX4w</td>
<td>2014-04-23 08:21:13+00:00</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>Gaur Gopal Das</td>
<td>4860000</td>
<td>288878180</td>
<td>356</td>
<td>UUz22l7kbce-uFJAoaZqxD1A</td>
<td>2016-04-12 18:16:24+00:00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>Vishuddha Das</td>
<td>596000</td>
<td>40838427</td>
<td>381</td>
<td>UUFJZQtrh5Ksncayy2FaoNbQ</td>
<td>2014-09-24 14:04:59+00:00</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>Actualized.org</td>
<td>1100000</td>
<td>107549192</td>
<td>528</td>
<td>UUgeicB5AuF3MyyUto0-M5Lw</td>
<td>2012-01-23 20:08:34+00:00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>Spirit Science</td>
<td>1300000</td>
<td>79311991</td>
<td>306</td>
<td>UUEcMWs6GudljuLw0-Umf97A</td>
<td>2011-12-29 05:49:29+00:00</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell" data-tags="[]" data-execution_count="169">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Setting Numeric n Categorical columns</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>numeric_cols <span class="op">=</span> [<span class="st">'subscribers'</span>,<span class="st">'views'</span>,<span class="st">'totalVideos'</span>]</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>chdd[numeric_cols] <span class="op">=</span> chdd[numeric_cols].<span class="bu">apply</span>(pd.to_numeric,errors <span class="op">=</span> <span class="st">'coerce'</span>)</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert publishedAt column to datetime</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>chdd[<span class="st">'publishedAt'</span>] <span class="op">=</span>(pd.to_datetime(chdd[<span class="st">'publishedAt'</span>]))</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract year, month, and time into separate columns</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>chdd[<span class="st">'publishingYear'</span>] <span class="op">=</span> chdd[<span class="st">'publishedAt'</span>].dt.year</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>chdd[<span class="st">'publishingMonth'</span>] <span class="op">=</span> chdd[<span class="st">'publishedAt'</span>].dt.month</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>chdd[<span class="st">'publishingTime'</span>] <span class="op">=</span> chdd[<span class="st">'publishedAt'</span>].dt.time</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Get month name</span></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>chdd[<span class="st">'publishingMonthName'</span>] <span class="op">=</span> chdd[<span class="st">'publishedAt'</span>].dt.strftime(<span class="st">"%B"</span>)</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Dropping the published At column</span></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>chdd.drop([<span class="st">'publishedAt'</span>],axis <span class="op">=</span> <span class="dv">1</span>, inplace <span class="op">=</span> <span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-tags="[]" data-execution_count="170">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># chdd['channelName'] = chdd['channelName'].replace('STAR भारत','Star Bharat')</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="co"># chdd </span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Was for other spiritual channels, but isn't necessary now.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-tags="[]" data-execution_count="171">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>chdd.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
Int64Index: 10 entries, 0 to 9
Data columns (total 9 columns):
 #   Column               Non-Null Count  Dtype 
---  ------               --------------  ----- 
 0   channelName          10 non-null     object
 1   subscribers          10 non-null     int64 
 2   views                10 non-null     int64 
 3   totalVideos          10 non-null     int64 
 4   playlistId           10 non-null     object
 5   publishingYear       10 non-null     int64 
 6   publishingMonth      10 non-null     int64 
 7   publishingTime       10 non-null     object
 8   publishingMonthName  10 non-null     object
dtypes: int64(5), object(4)
memory usage: 800.0+ bytes</code></pre>
</div>
</div>
</section>
<section id="popularity-measure-via-number-of-subscribers-per-channel" class="level3">
<h3 class="anchored" data-anchor-id="popularity-measure-via-number-of-subscribers-per-channel">Popularity Measure via Number of Subscribers Per Channel</h3>
<div class="cell" data-tags="[]" data-execution_count="172">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>matplotlib.get_backend()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="172">
<pre><code>'module://matplotlib_inline.backend_inline'</code></pre>
</div>
</div>
<div class="cell" data-tags="[]" data-execution_count="173">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co">#matplotlib.use??</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="co">#sns.barplot??</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-tags="[]" data-execution_count="177">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Fixing colors for each channel</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="co">#palette = sns.color_palette('pastel6', n_colors=10)</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>colors <span class="op">=</span> plt.cm.tab10.colors[:<span class="dv">10</span>]</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="co">#colors = sns.color_palette('Set1', 10)</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>channel_colors <span class="op">=</span> {}</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>chdd.sort_values(<span class="st">'subscribers'</span>,ascending<span class="op">=</span><span class="va">False</span>,inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, channel <span class="kw">in</span> <span class="bu">enumerate</span>(chdd[<span class="st">'channelName'</span>]):</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>    channel_colors[channel] <span class="op">=</span> colors[i]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-tags="[]" data-execution_count="178">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> sns.barplot(x<span class="op">=</span><span class="st">'channelName'</span>, y<span class="op">=</span><span class="st">'subscribers'</span>, data<span class="op">=</span>chdd.sort_values(<span class="st">'subscribers'</span>, ascending<span class="op">=</span><span class="va">False</span>), palette<span class="op">=</span>channel_colors)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>ax.yaxis.set_major_formatter(ticker.FuncFormatter(<span class="kw">lambda</span> x, pos: <span class="st">'{:,.0f}'</span>.<span class="bu">format</span>(x<span class="op">/</span><span class="dv">1000</span>) <span class="op">+</span> <span class="st">'K'</span>))</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>ax.set_xticklabels(ax.get_xticklabels(),rotation <span class="op">=</span> <span class="dv">90</span>)</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="Youtube_API_EDA_files/figure-html/cell-19-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="popularity-measure-via-number-of-views-per-channel" class="level3">
<h3 class="anchored" data-anchor-id="popularity-measure-via-number-of-views-per-channel">Popularity measure via Number of Views Per Channel</h3>
<div class="cell" data-tags="[]" data-execution_count="179">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># matplotlib.use('module://matplotlib_inline.backend_inline')</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="co">#%matplotlib inline</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> sns.barplot(x<span class="op">=</span><span class="st">'channelName'</span>, y<span class="op">=</span><span class="st">'views'</span>, data<span class="op">=</span>chdd.sort_values(<span class="st">'views'</span>, ascending<span class="op">=</span><span class="va">False</span>),palette<span class="op">=</span>channel_colors)</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>ax.yaxis.set_major_formatter(ticker.FuncFormatter(<span class="kw">lambda</span> x, pos: <span class="st">'{:,.0f}'</span>.<span class="bu">format</span>(x<span class="op">/</span><span class="dv">1000</span>) <span class="op">+</span> <span class="st">'K'</span>))</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>ax.set_xticklabels(ax.get_xticklabels(),rotation <span class="op">=</span> <span class="dv">90</span>)</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="Youtube_API_EDA_files/figure-html/cell-20-output-1.png" class="img-fluid"></p>
</div>
</div>
<section id="observation-from-above-plots" class="level4">
<h4 class="anchored" data-anchor-id="observation-from-above-plots">Observation from above plots:</h4>
<ul>
<li>Interestingly, some channels have more subscribers but less views and vice versa. For example, GGD channel has significantly more subscribers than Mind Valley channel, but less views in total.</li>
<li>Psych2Go and The School of Life hold onto their ranks in both views and subscriber count</li>
</ul>
</section>
</section>
<section id="get-video-statistics-for-all-the-channels" class="level3">
<h3 class="anchored" data-anchor-id="get-video-statistics-for-all-the-channels">Get video statistics for all the channels</h3>
<p>In the next step, we will obtain the video statistics for all the channels. In total, we obtained 8700 videos as seen in below.</p>
<div class="cell" data-tags="[]" data-execution_count="180">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># # Create a dataframe with video statistics and comments from all channels</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="co"># video_df = pd.DataFrame()</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="co"># comments_df = pd.DataFrame()</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="co"># for c in channel_data['channelName'].unique():</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="co">#     print("Getting video information from channel: " + c)</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="co">#     playlist_id = channel_data.loc[channel_data['channelName']== c, 'playlistId'].iloc[0]</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a><span class="co">#     video_ids = get_video_ids(playlist_id,max_results=2000,yt = youtube)</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a><span class="co">#     # get video data</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a><span class="co">#     video_data = get_video_details(video_ids,yt = youtube)</span></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a><span class="co">#     # get comment data</span></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a><span class="co">#     comments_data = get_comments_in_videos(video_ids,yt = youtube)</span></span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a><span class="co">#     # append video data together and comment data toghether</span></span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a><span class="co">#     video_df = video_df.append(video_data, ignore_index=True)</span></span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a><span class="co">#     comments_df = comments_df.append(comments_data, ignore_index=True)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="181">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># video_df.to_csv("./files/spirituality_video_df_original.csv")</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="co"># comments_df.to_csv("./files/spirituality_comments_df_original.csv")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="182">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>l_video_df <span class="op">=</span> pd.read_csv(<span class="st">"./files/spirituality_video_df_original.csv"</span>,index_col<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>l_comments_df <span class="op">=</span> pd.read_csv(<span class="st">"./files/spirituality_comments_df_original.csv"</span>,index_col<span class="op">=</span><span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-tags="[]" data-execution_count="183">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>viddf <span class="op">=</span> l_video_df.copy()</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>comdf <span class="op">=</span> l_comments_df.copy()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-tags="[]" data-execution_count="184">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create publish day (in the week) column</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>viddf[<span class="st">'publishedAt'</span>] <span class="op">=</span>  viddf[<span class="st">'publishedAt'</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: parser.parse(x)) </span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>viddf[<span class="st">'pushblishDayName'</span>] <span class="op">=</span> viddf[<span class="st">'publishedAt'</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: x.strftime(<span class="st">"%A"</span>))</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert publishedAt column to datetime</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>viddf[<span class="st">'publishedAt'</span>] <span class="op">=</span>(pd.to_datetime(viddf[<span class="st">'publishedAt'</span>]))</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract year, month, and time into separate columns</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>viddf[<span class="st">'publishingYear'</span>] <span class="op">=</span> viddf[<span class="st">'publishedAt'</span>].dt.year</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>viddf[<span class="st">'publishingMonth'</span>] <span class="op">=</span> viddf[<span class="st">'publishedAt'</span>].dt.month</span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>viddf[<span class="st">'publishingTime'</span>] <span class="op">=</span> viddf[<span class="st">'publishedAt'</span>].dt.time</span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Get month name</span></span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>viddf[<span class="st">'publishingMonthName'</span>] <span class="op">=</span> viddf[<span class="st">'publishedAt'</span>].dt.strftime(<span class="st">"%B"</span>)</span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Dropping the published At column</span></span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>viddf.drop([<span class="st">'publishedAt'</span>],axis <span class="op">=</span> <span class="dv">1</span>, inplace <span class="op">=</span> <span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-tags="[]" data-execution_count="185">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>viddf</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="185">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">video_id</th>
<th data-quarto-table-cell-role="th">channelTitle</th>
<th data-quarto-table-cell-role="th">title</th>
<th data-quarto-table-cell-role="th">description</th>
<th data-quarto-table-cell-role="th">tags</th>
<th data-quarto-table-cell-role="th">viewCount</th>
<th data-quarto-table-cell-role="th">likeCount</th>
<th data-quarto-table-cell-role="th">favouriteCount</th>
<th data-quarto-table-cell-role="th">commentCount</th>
<th data-quarto-table-cell-role="th">duration</th>
<th data-quarto-table-cell-role="th">definition</th>
<th data-quarto-table-cell-role="th">caption</th>
<th data-quarto-table-cell-role="th">pushblishDayName</th>
<th data-quarto-table-cell-role="th">publishingYear</th>
<th data-quarto-table-cell-role="th">publishingMonth</th>
<th data-quarto-table-cell-role="th">publishingTime</th>
<th data-quarto-table-cell-role="th">publishingMonthName</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Q8dOR0bN-Mw</td>
<td>Gaia</td>
<td>Man Able to Project Thoughts Through Crystals</td>
<td>Learn how crystals can hold a powerful place i...</td>
<td>['gaia', 'yoga on gaia', 'cosmic disclosure', ...</td>
<td>7218.0</td>
<td>1309.0</td>
<td>NaN</td>
<td>31.0</td>
<td>PT1M</td>
<td>hd</td>
<td>False</td>
<td>Saturday</td>
<td>2023</td>
<td>4</td>
<td>15:00:28</td>
<td>April</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Ja1m4mHjZJY</td>
<td>Gaia</td>
<td>FULL EPISODE: Channeling - A Bridge to the Beyond</td>
<td>8,000+ Films, Shows &amp; Classes on Gaia. Start Y...</td>
<td>['gaia', 'yoga on gaia', 'cosmic disclosure', ...</td>
<td>18104.0</td>
<td>1394.0</td>
<td>NaN</td>
<td>113.0</td>
<td>PT26M53S</td>
<td>hd</td>
<td>False</td>
<td>Friday</td>
<td>2023</td>
<td>3</td>
<td>16:00:07</td>
<td>March</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>qixrU_pwvD0</td>
<td>Gaia</td>
<td>This Man Taught Princess Diana to Express Hers...</td>
<td>8,000+ Films, Shows &amp; Classes on Gaia. Start Y...</td>
<td>['gaia', 'yoga on gaia', 'cosmic disclosure', ...</td>
<td>9462.0</td>
<td>640.0</td>
<td>NaN</td>
<td>51.0</td>
<td>PT4M47S</td>
<td>hd</td>
<td>False</td>
<td>Wednesday</td>
<td>2023</td>
<td>3</td>
<td>16:00:40</td>
<td>March</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>deZsy9GYn8w</td>
<td>Gaia</td>
<td>Mysterious, Ancient Satellite Is Monitoring Earth</td>
<td>Five of the world’s leading experts unravel my...</td>
<td>['gaia', 'yoga on gaia', 'cosmic disclosure', ...</td>
<td>73915.0</td>
<td>10072.0</td>
<td>NaN</td>
<td>338.0</td>
<td>PT1M</td>
<td>hd</td>
<td>False</td>
<td>Tuesday</td>
<td>2023</td>
<td>3</td>
<td>15:00:21</td>
<td>March</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Kbfpd8zp3mk</td>
<td>Gaia</td>
<td>How Shamanic Dancing Leads to Altered States o...</td>
<td>8,000+ Films, Shows &amp; Classes on Gaia. Start Y...</td>
<td>['gaia', 'yoga on gaia', 'cosmic disclosure', ...</td>
<td>14585.0</td>
<td>932.0</td>
<td>NaN</td>
<td>54.0</td>
<td>PT3M56S</td>
<td>hd</td>
<td>False</td>
<td>Monday</td>
<td>2023</td>
<td>3</td>
<td>16:00:21</td>
<td>March</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8695</td>
<td>ZS3sOfs5jBY</td>
<td>Actualized.org</td>
<td>Get Coached</td>
<td>http://www.actualized.org/coaching\n\nResults ...</td>
<td>['life coaching', 'Coaching (Profession)']</td>
<td>10102.0</td>
<td>323.0</td>
<td>NaN</td>
<td>31.0</td>
<td>PT16M23S</td>
<td>hd</td>
<td>False</td>
<td>Saturday</td>
<td>2013</td>
<td>5</td>
<td>11:48:19</td>
<td>May</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">8696</td>
<td>mlIYVsuIofs</td>
<td>Actualized.org</td>
<td>Be Different to Be Successful</td>
<td>How doing things differently in your life is n...</td>
<td>NaN</td>
<td>27343.0</td>
<td>929.0</td>
<td>NaN</td>
<td>41.0</td>
<td>PT26M5S</td>
<td>hd</td>
<td>False</td>
<td>Friday</td>
<td>2013</td>
<td>4</td>
<td>10:24:43</td>
<td>April</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8697</td>
<td>8cbtMhHpLC8</td>
<td>Actualized.org</td>
<td>Why Life Coaching Works</td>
<td>An explanation of how coaching works and why i...</td>
<td>NaN</td>
<td>20081.0</td>
<td>647.0</td>
<td>NaN</td>
<td>42.0</td>
<td>PT21M</td>
<td>hd</td>
<td>False</td>
<td>Friday</td>
<td>2013</td>
<td>4</td>
<td>08:53:35</td>
<td>April</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">8698</td>
<td>C1QYF5WYzCo</td>
<td>Actualized.org</td>
<td>How to Invest In Yourself</td>
<td>How a long-term investment mindset in yourself...</td>
<td>NaN</td>
<td>61685.0</td>
<td>1805.0</td>
<td>NaN</td>
<td>193.0</td>
<td>PT19M13S</td>
<td>hd</td>
<td>True</td>
<td>Friday</td>
<td>2013</td>
<td>4</td>
<td>07:29:27</td>
<td>April</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8699</td>
<td>_874QVgwvEk</td>
<td>Actualized.org</td>
<td>Mastery Part 1</td>
<td>Test video for self-development blog. This vid...</td>
<td>['mastery', 'self-help', 'self-development', '...</td>
<td>5496.0</td>
<td>217.0</td>
<td>NaN</td>
<td>63.0</td>
<td>PT16M12S</td>
<td>hd</td>
<td>False</td>
<td>Wednesday</td>
<td>2012</td>
<td>8</td>
<td>08:24:31</td>
<td>August</td>
</tr>
</tbody>
</table>

<p>8700 rows × 17 columns</p>
</div>
</div>
</div>
<p>Let’s take a look at the comment_df as well. We only get 8674 comments in total due to the fact that we limited to 10 first comments on the video to avoid exceeding the Youtube API quota limit.</p>
<div class="cell" data-tags="[]" data-execution_count="186">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>comdf</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="186">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">video_id</th>
<th data-quarto-table-cell-role="th">comments</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Q8dOR0bN-Mw</td>
<td>['Intentionally concentrating the mind setting...</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Ja1m4mHjZJY</td>
<td>['8,000+ Films, Shows &amp; Classes on Gaia. Start...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>qixrU_pwvD0</td>
<td>['8,000+ Films, Shows &amp; Classes on Gaia. Start...</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>deZsy9GYn8w</td>
<td>['Watch more of the Awakening Conference with ...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Kbfpd8zp3mk</td>
<td>['8,000+ Films, Shows &amp; Classes on Gaia. Start...</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8669</td>
<td>ZS3sOfs5jBY</td>
<td>['Thanks', 'A legend is born..', 'Currently go...</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">8670</td>
<td>mlIYVsuIofs</td>
<td>['Great video 💫', 'Inspiring', 'Thanks', 'Than...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8671</td>
<td>8cbtMhHpLC8</td>
<td>['Thanks.', '0:00 a legend was born', 'Magic.'...</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">8672</td>
<td>C1QYF5WYzCo</td>
<td>['Thanks', "If you discovered this/him you've ...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8673</td>
<td>_874QVgwvEk</td>
<td>['Proud of you man. You helped me a lot', 'Who...</td>
</tr>
</tbody>
</table>

<p>8674 rows × 2 columns</p>
</div>
</div>
</div>
</section>
</section>
<section id="preprocessing-feature-engineering" class="level2">
<h2 class="anchored" data-anchor-id="preprocessing-feature-engineering">Preprocessing &amp; Feature Engineering</h2>
<p>To be able to make use of the data for analysis, we need to perform a few pre-processing steps. Firstly, I would like reformat some columns, especially the date and time columns such as “pushlishedAt” and “duration”. In addition, I also think it is necessary to enrich the data with some new features that might be useful for understanding the videos’ characteristics. Also I removed the favorite count column as it’s completely blank, rest other columns having null values weren’t modified for simplicity.</p>
<section id="check-for-empty-values" class="level3">
<h3 class="anchored" data-anchor-id="check-for-empty-values">Check for empty values</h3>
<div class="cell" data-tags="[]" data-execution_count="187">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>viddf.isnull().<span class="bu">sum</span>(axis <span class="op">=</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="187">
<pre><code>video_id                  0
channelTitle              0
title                     0
description               3
tags                    554
viewCount                 5
likeCount                 6
favouriteCount         8700
commentCount              8
duration                  0
definition                0
caption                   0
pushblishDayName          0
publishingYear            0
publishingMonth           0
publishingTime            0
publishingMonthName       0
dtype: int64</code></pre>
</div>
</div>
<div class="cell" data-tags="[]" data-execution_count="188">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># matplotlib.use('module://matplotlib_inline.backend_inline')</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="co"># %matplotlib inline</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> sns.heatmap(viddf.isnull(),yticklabels <span class="op">=</span> <span class="va">False</span>, cbar <span class="op">=</span> <span class="va">False</span>, cmap <span class="op">=</span> <span class="st">'viridis'</span>)</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="Youtube_API_EDA_files/figure-html/cell-29-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="formatting-dates" class="level3">
<h3 class="anchored" data-anchor-id="formatting-dates">Formatting Dates</h3>
<div class="cell" data-tags="[]" data-execution_count="189">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>viddf.publishingYear.sort_values().value_counts()</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Videos are from 2011 to 2023</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="co">#- During the covid time the channels became more active it seems over all.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="189">
<pre><code>2022    1667
2021    1355
2020    1236
2018    1027
2019     950
2017     863
2016     516
2023     392
2015     355
2014     248
2013      45
2012      44
2011       2
Name: publishingYear, dtype: int64</code></pre>
</div>
</div>
</section>
<section id="correcting-data-types" class="level3">
<h3 class="anchored" data-anchor-id="correcting-data-types">Correcting Data types</h3>
<div class="cell" data-tags="[]" data-execution_count="190">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>cols <span class="op">=</span> [<span class="st">'viewCount'</span>, <span class="st">'likeCount'</span>,<span class="st">'commentCount'</span>]</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>viddf[cols] <span class="op">=</span> viddf[cols].<span class="bu">apply</span>(pd.to_numeric, errors<span class="op">=</span><span class="st">'coerce'</span>, axis<span class="op">=</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="enriching-data" class="level4">
<h4 class="anchored" data-anchor-id="enriching-data">Enriching data</h4>
<p>I want to enrich the data for further analyses, for example: - convert video duration to seconds instead of the current default string format - calculate number of tags for each video - calculate comments and likes per 1000 view ratio - calculate title character length</p>
<div class="cell" data-tags="[]" data-execution_count="191">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># convert duration to seconds</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>viddf[<span class="st">'durationSecs'</span>] <span class="op">=</span> viddf[<span class="st">'duration'</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: isodate.parse_duration(x))</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>viddf[<span class="st">'durationSecs'</span>] <span class="op">=</span> viddf[<span class="st">'durationSecs'</span>].astype(<span class="st">'timedelta64[s]'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-tags="[]" data-execution_count="192">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Add number of tags</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>viddf[<span class="st">'tagsstr'</span>] <span class="op">=</span> viddf.tags.<span class="bu">apply</span>(<span class="kw">lambda</span> x: <span class="dv">0</span> <span class="cf">if</span> x <span class="kw">is</span> <span class="va">None</span> <span class="cf">else</span> <span class="bu">str</span>((x))) <span class="co">#tags were not in proper format so converting them to str</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>viddf[<span class="st">'tagsCount'</span>] <span class="op">=</span> viddf.tagsstr.<span class="bu">apply</span>(<span class="kw">lambda</span> x: <span class="dv">0</span> <span class="cf">if</span> (x <span class="op">==</span> <span class="dv">0</span> <span class="kw">or</span> x <span class="op">==</span><span class="st">'nan'</span>) <span class="cf">else</span> <span class="bu">len</span>(<span class="bu">eval</span>(x)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-tags="[]" data-execution_count="193">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Comments and likes per 1000 view ratio</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>viddf[<span class="st">'likeRatio'</span>] <span class="op">=</span> viddf[<span class="st">'likeCount'</span>]<span class="op">/</span> viddf[<span class="st">'viewCount'</span>] <span class="op">*</span> <span class="dv">1000</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>viddf[<span class="st">'commentRatio'</span>] <span class="op">=</span> viddf[<span class="st">'commentCount'</span>]<span class="op">/</span> viddf[<span class="st">'viewCount'</span>] <span class="op">*</span> <span class="dv">1000</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-tags="[]" data-execution_count="194">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Title character length</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>viddf[<span class="st">'titleLength'</span>] <span class="op">=</span> viddf[<span class="st">'title'</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: <span class="bu">len</span>(x))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="195">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Dropping the favourite Count as all of it is empty</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>viddf.drop([<span class="st">'favouriteCount'</span>],axis <span class="op">=</span> <span class="dv">1</span>, inplace<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-tags="[]" data-execution_count="196">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Observing df before proceeding further</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>viddf </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="196">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">video_id</th>
<th data-quarto-table-cell-role="th">channelTitle</th>
<th data-quarto-table-cell-role="th">title</th>
<th data-quarto-table-cell-role="th">description</th>
<th data-quarto-table-cell-role="th">tags</th>
<th data-quarto-table-cell-role="th">viewCount</th>
<th data-quarto-table-cell-role="th">likeCount</th>
<th data-quarto-table-cell-role="th">commentCount</th>
<th data-quarto-table-cell-role="th">duration</th>
<th data-quarto-table-cell-role="th">definition</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">publishingYear</th>
<th data-quarto-table-cell-role="th">publishingMonth</th>
<th data-quarto-table-cell-role="th">publishingTime</th>
<th data-quarto-table-cell-role="th">publishingMonthName</th>
<th data-quarto-table-cell-role="th">durationSecs</th>
<th data-quarto-table-cell-role="th">tagsstr</th>
<th data-quarto-table-cell-role="th">tagsCount</th>
<th data-quarto-table-cell-role="th">likeRatio</th>
<th data-quarto-table-cell-role="th">commentRatio</th>
<th data-quarto-table-cell-role="th">titleLength</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Q8dOR0bN-Mw</td>
<td>Gaia</td>
<td>Man Able to Project Thoughts Through Crystals</td>
<td>Learn how crystals can hold a powerful place i...</td>
<td>['gaia', 'yoga on gaia', 'cosmic disclosure', ...</td>
<td>7218.0</td>
<td>1309.0</td>
<td>31.0</td>
<td>PT1M</td>
<td>hd</td>
<td>...</td>
<td>2023</td>
<td>4</td>
<td>15:00:28</td>
<td>April</td>
<td>60.0</td>
<td>['gaia', 'yoga on gaia', 'cosmic disclosure', ...</td>
<td>26</td>
<td>181.352175</td>
<td>4.294819</td>
<td>45</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Ja1m4mHjZJY</td>
<td>Gaia</td>
<td>FULL EPISODE: Channeling - A Bridge to the Beyond</td>
<td>8,000+ Films, Shows &amp; Classes on Gaia. Start Y...</td>
<td>['gaia', 'yoga on gaia', 'cosmic disclosure', ...</td>
<td>18104.0</td>
<td>1394.0</td>
<td>113.0</td>
<td>PT26M53S</td>
<td>hd</td>
<td>...</td>
<td>2023</td>
<td>3</td>
<td>16:00:07</td>
<td>March</td>
<td>1613.0</td>
<td>['gaia', 'yoga on gaia', 'cosmic disclosure', ...</td>
<td>26</td>
<td>76.999558</td>
<td>6.241715</td>
<td>49</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>qixrU_pwvD0</td>
<td>Gaia</td>
<td>This Man Taught Princess Diana to Express Hers...</td>
<td>8,000+ Films, Shows &amp; Classes on Gaia. Start Y...</td>
<td>['gaia', 'yoga on gaia', 'cosmic disclosure', ...</td>
<td>9462.0</td>
<td>640.0</td>
<td>51.0</td>
<td>PT4M47S</td>
<td>hd</td>
<td>...</td>
<td>2023</td>
<td>3</td>
<td>16:00:40</td>
<td>March</td>
<td>287.0</td>
<td>['gaia', 'yoga on gaia', 'cosmic disclosure', ...</td>
<td>26</td>
<td>67.638977</td>
<td>5.389981</td>
<td>63</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>deZsy9GYn8w</td>
<td>Gaia</td>
<td>Mysterious, Ancient Satellite Is Monitoring Earth</td>
<td>Five of the world’s leading experts unravel my...</td>
<td>['gaia', 'yoga on gaia', 'cosmic disclosure', ...</td>
<td>73915.0</td>
<td>10072.0</td>
<td>338.0</td>
<td>PT1M</td>
<td>hd</td>
<td>...</td>
<td>2023</td>
<td>3</td>
<td>15:00:21</td>
<td>March</td>
<td>60.0</td>
<td>['gaia', 'yoga on gaia', 'cosmic disclosure', ...</td>
<td>26</td>
<td>136.264628</td>
<td>4.572820</td>
<td>49</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Kbfpd8zp3mk</td>
<td>Gaia</td>
<td>How Shamanic Dancing Leads to Altered States o...</td>
<td>8,000+ Films, Shows &amp; Classes on Gaia. Start Y...</td>
<td>['gaia', 'yoga on gaia', 'cosmic disclosure', ...</td>
<td>14585.0</td>
<td>932.0</td>
<td>54.0</td>
<td>PT3M56S</td>
<td>hd</td>
<td>...</td>
<td>2023</td>
<td>3</td>
<td>16:00:21</td>
<td>March</td>
<td>236.0</td>
<td>['gaia', 'yoga on gaia', 'cosmic disclosure', ...</td>
<td>26</td>
<td>63.901268</td>
<td>3.702434</td>
<td>61</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8695</td>
<td>ZS3sOfs5jBY</td>
<td>Actualized.org</td>
<td>Get Coached</td>
<td>http://www.actualized.org/coaching\n\nResults ...</td>
<td>['life coaching', 'Coaching (Profession)']</td>
<td>10102.0</td>
<td>323.0</td>
<td>31.0</td>
<td>PT16M23S</td>
<td>hd</td>
<td>...</td>
<td>2013</td>
<td>5</td>
<td>11:48:19</td>
<td>May</td>
<td>983.0</td>
<td>['life coaching', 'Coaching (Profession)']</td>
<td>2</td>
<td>31.973867</td>
<td>3.068699</td>
<td>11</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">8696</td>
<td>mlIYVsuIofs</td>
<td>Actualized.org</td>
<td>Be Different to Be Successful</td>
<td>How doing things differently in your life is n...</td>
<td>NaN</td>
<td>27343.0</td>
<td>929.0</td>
<td>41.0</td>
<td>PT26M5S</td>
<td>hd</td>
<td>...</td>
<td>2013</td>
<td>4</td>
<td>10:24:43</td>
<td>April</td>
<td>1565.0</td>
<td>nan</td>
<td>0</td>
<td>33.975789</td>
<td>1.499470</td>
<td>29</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8697</td>
<td>8cbtMhHpLC8</td>
<td>Actualized.org</td>
<td>Why Life Coaching Works</td>
<td>An explanation of how coaching works and why i...</td>
<td>NaN</td>
<td>20081.0</td>
<td>647.0</td>
<td>42.0</td>
<td>PT21M</td>
<td>hd</td>
<td>...</td>
<td>2013</td>
<td>4</td>
<td>08:53:35</td>
<td>April</td>
<td>1260.0</td>
<td>nan</td>
<td>0</td>
<td>32.219511</td>
<td>2.091529</td>
<td>23</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">8698</td>
<td>C1QYF5WYzCo</td>
<td>Actualized.org</td>
<td>How to Invest In Yourself</td>
<td>How a long-term investment mindset in yourself...</td>
<td>NaN</td>
<td>61685.0</td>
<td>1805.0</td>
<td>193.0</td>
<td>PT19M13S</td>
<td>hd</td>
<td>...</td>
<td>2013</td>
<td>4</td>
<td>07:29:27</td>
<td>April</td>
<td>1153.0</td>
<td>nan</td>
<td>0</td>
<td>29.261571</td>
<td>3.128800</td>
<td>25</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8699</td>
<td>_874QVgwvEk</td>
<td>Actualized.org</td>
<td>Mastery Part 1</td>
<td>Test video for self-development blog. This vid...</td>
<td>['mastery', 'self-help', 'self-development', '...</td>
<td>5496.0</td>
<td>217.0</td>
<td>63.0</td>
<td>PT16M12S</td>
<td>hd</td>
<td>...</td>
<td>2012</td>
<td>8</td>
<td>08:24:31</td>
<td>August</td>
<td>972.0</td>
<td>['mastery', 'self-help', 'self-development', '...</td>
<td>5</td>
<td>39.483261</td>
<td>11.462882</td>
<td>14</td>
</tr>
</tbody>
</table>

<p>8700 rows × 22 columns</p>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="exploratory-analysis" class="level2">
<h2 class="anchored" data-anchor-id="exploratory-analysis">Exploratory Analysis</h2>
<section id="checking-total-videos-per-channel" class="level3">
<h3 class="anchored" data-anchor-id="checking-total-videos-per-channel">Checking total videos per channel</h3>
<div class="cell" data-tags="[]" data-execution_count="197">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>sns.<span class="bu">set</span>(rc<span class="op">=</span>{<span class="st">'figure.figsize'</span>:(<span class="dv">10</span>,<span class="dv">12</span>),<span class="st">'figure.dpi'</span>:<span class="dv">100</span>})</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> sns.barplot(x<span class="op">=</span><span class="st">'channelName'</span>, y<span class="op">=</span><span class="st">'totalVideos'</span>, data<span class="op">=</span>chdd.sort_values(<span class="st">'totalVideos'</span>, ascending<span class="op">=</span><span class="va">False</span>),palette<span class="op">=</span>channel_colors)</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>ax.yaxis.set_major_formatter(ticker.FuncFormatter(<span class="kw">lambda</span> x, pos: <span class="st">'{:,.0f}'</span>.<span class="bu">format</span>(x<span class="op">/</span><span class="dv">1000</span>) <span class="op">+</span> <span class="st">'K'</span>))</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>ax.set_xticklabels(ax.get_xticklabels(),rotation <span class="op">=</span> <span class="dv">90</span>)</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="Youtube_API_EDA_files/figure-html/cell-38-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="checking-number-of-videos-per-channel-per-year" class="level3">
<h3 class="anchored" data-anchor-id="checking-number-of-videos-per-channel-per-year">Checking number of videos per channel per year</h3>
<div class="cell" data-tags="[]" data-execution_count="198">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># group by channel and year, count the videos</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>count_data <span class="op">=</span> viddf.groupby([<span class="st">'channelTitle'</span>, <span class="st">'publishingYear'</span>])[<span class="st">'video_id'</span>].count().reset_index(name<span class="op">=</span><span class="st">"count"</span>)</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a><span class="co"># plot using seaborn</span></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>sns.<span class="bu">set</span>(rc<span class="op">=</span>{<span class="st">'figure.figsize'</span>:(<span class="dv">10</span>,<span class="dv">8</span>),<span class="st">'figure.dpi'</span>:<span class="dv">150</span>,})</span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> sns.barplot(data<span class="op">=</span>count_data, x<span class="op">=</span><span class="st">'publishingYear'</span>, y<span class="op">=</span><span class="st">'count'</span>, hue<span class="op">=</span><span class="st">'channelTitle'</span>, palette<span class="op">=</span>channel_colors)</span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>ax.legend(bbox_to_anchor<span class="op">=</span>(<span class="fl">1.05</span>, <span class="dv">1</span>), loc<span class="op">=</span><span class="st">'upper left'</span>, borderaxespad<span class="op">=</span><span class="fl">0.</span>, ncol<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="Youtube_API_EDA_files/figure-html/cell-39-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="views-distribution-per-channel-via-boxplot-and-violinplot" class="level3">
<h3 class="anchored" data-anchor-id="views-distribution-per-channel-via-boxplot-and-violinplot">Views distribution per channel via BoxPlot and ViolinPlot</h3>
<section id="observations" class="level4">
<h4 class="anchored" data-anchor-id="observations">Observations</h4>
<p>With the video statistics for all channel, now we can see how the views are distributed per channel. - Boxplot provides us with the following insights: - Mindvalley and Psychgo have too many videos that went viral over time. - The School of life and Universe inside you seem to have more broad range of video views over time as their IQR seems more via the box length. - I think the views and subscriber count are correlated since the channel having more subscribers tend to have more views.</p>
<ul>
<li>Violinplot confirms us that few channels seem to have quite variation among views of the videos, like Aaron Daughty and Vishuddha Das videos have recieved more varied views for the videos.</li>
</ul>
</section>
<section id="violinplot" class="level4">
<h4 class="anchored" data-anchor-id="violinplot">ViolinPlot</h4>
<div class="cell" data-tags="[]" data-execution_count="199">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> sns.violinplot(x<span class="op">=</span><span class="st">'channelTitle'</span>, y<span class="op">=</span><span class="st">'viewCount'</span>, data<span class="op">=</span>viddf.sort_values(<span class="st">'viewCount'</span>, ascending<span class="op">=</span><span class="va">False</span>), palette <span class="op">=</span> channel_colors)</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="co">#ax.set_ylim(ymin = -1e3, ymax = 1e5)</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>ax.yaxis.set_major_formatter(ticker.FuncFormatter(<span class="kw">lambda</span> x, pos: <span class="st">'{:,.0f}'</span>.<span class="bu">format</span>(x<span class="op">/</span><span class="dv">1000</span>) <span class="op">+</span> <span class="st">'K'</span>))</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>ax.set_xticklabels(ax.get_xticklabels(),rotation <span class="op">=</span> <span class="dv">90</span>)</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="Youtube_API_EDA_files/figure-html/cell-40-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="boxplot" class="level4">
<h4 class="anchored" data-anchor-id="boxplot">BoxPlot</h4>
<div class="cell" data-tags="[]" data-execution_count="200">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> sns.boxplot(x<span class="op">=</span><span class="st">'channelTitle'</span>, y<span class="op">=</span><span class="st">'viewCount'</span>, data<span class="op">=</span>viddf.sort_values(<span class="st">'viewCount'</span>, ascending<span class="op">=</span><span class="va">False</span>), palette <span class="op">=</span> channel_colors)</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>ax.set_ylim(ymin <span class="op">=</span> <span class="op">-</span><span class="fl">1e3</span>, ymax <span class="op">=</span> <span class="fl">2.4e6</span>)</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>ax.yaxis.set_major_formatter(ticker.FuncFormatter(<span class="kw">lambda</span> x, pos: <span class="st">'{:,.0f}'</span>.<span class="bu">format</span>(x<span class="op">/</span><span class="dv">1000</span>) <span class="op">+</span> <span class="st">'K'</span>))</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>ax.set_xticklabels(ax.get_xticklabels(),rotation <span class="op">=</span> <span class="dv">90</span>)</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="Youtube_API_EDA_files/figure-html/cell-41-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
</section>
<section id="does-the-number-of-likes-and-comments-matter-for-a-video-to-get-more-views" class="level3">
<h3 class="anchored" data-anchor-id="does-the-number-of-likes-and-comments-matter-for-a-video-to-get-more-views">Does the number of likes and comments matter for a video to get more views?</h3>
<section id="observations-1" class="level4">
<h4 class="anchored" data-anchor-id="observations-1">Observations</h4>
<p>Firstly, I would like to check if comments and likes do correlate with how many views a video would get. In the plots below, it can be observed that the number of views and number of comments/ likes strongly correlated with each other. The number of likes seems to suggest stronger correlation than the number of comments. However, this is expected as the more people watching a video, the more likely this video will get comments and likes. To correct for this factor, we will plot these relationships again using the comments per 1000 view and likes per 1000 view ratios.</p>
</section>
<section id="correlation-plots-of-comment-count-like-count-vs-view-count" class="level4">
<h4 class="anchored" data-anchor-id="correlation-plots-of-comment-count-like-count-vs-view-count">Correlation Plots of comment count, like count vs view Count</h4>
<div class="cell" data-tags="[]" data-execution_count="201">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span>plt.subplots(<span class="dv">1</span>,<span class="dv">2</span>)</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(data <span class="op">=</span> viddf, x <span class="op">=</span> <span class="st">"commentCount"</span>, y <span class="op">=</span> <span class="st">"viewCount"</span>, ax<span class="op">=</span>ax[<span class="dv">0</span>])</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(data <span class="op">=</span> viddf, x <span class="op">=</span> <span class="st">"likeCount"</span>, y <span class="op">=</span> <span class="st">"viewCount"</span>, ax<span class="op">=</span>ax[<span class="dv">1</span>])</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="Youtube_API_EDA_files/figure-html/cell-42-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="correlation-plots-of-comment-ration-like-ratio-vs-view-count" class="level4">
<h4 class="anchored" data-anchor-id="correlation-plots-of-comment-ration-like-ratio-vs-view-count">Correlation Plots of comment ration, like ratio vs view Count</h4>
<p>Now we will take a look at the correlation if we look at the comment ratio and like ratio instead of the absolute number. It seems that more views is leading to more comments and more likes as well, but after a certain point I think, with views viewers, don’t write comments that much.</p>
<div class="cell" data-tags="[]" data-execution_count="202">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span>plt.subplots(<span class="dv">1</span>,<span class="dv">2</span>)</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(data <span class="op">=</span> viddf, x <span class="op">=</span> <span class="st">"commentRatio"</span>, y <span class="op">=</span> <span class="st">"viewCount"</span>, ax<span class="op">=</span>ax[<span class="dv">0</span>])</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a><span class="co">#ax[0].set_ylim(0,9e6)</span></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a><span class="co">#ax[1].set_ylim(0,9e6)</span></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(data <span class="op">=</span> viddf, x <span class="op">=</span> <span class="st">"likeRatio"</span>, y <span class="op">=</span> <span class="st">"viewCount"</span>, ax<span class="op">=</span>ax[<span class="dv">1</span>])</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="Youtube_API_EDA_files/figure-html/cell-43-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
</section>
<section id="does-the-video-duration-matter-for-views-and-interaction-likes-comments" class="level3">
<h3 class="anchored" data-anchor-id="does-the-video-duration-matter-for-views-and-interaction-likes-comments">Does the video duration matter for views and interaction (likes/ comments)?</h3>
<section id="observations-2" class="level4">
<h4 class="anchored" data-anchor-id="observations-2">Observations</h4>
<p>As can be seen in the histogram below, most videos are between 1600 to 1800 seconds, which is about 20 to 30 minutes. Here I have to limit the duration to 10,000 because of some really long videos (potentially streaming videos).</p>
</section>
<section id="histplot-of-number-of-videos-with-their-duration" class="level4">
<h4 class="anchored" data-anchor-id="histplot-of-number-of-videos-with-their-duration">Histplot of number of videos with their duration</h4>
<div class="cell" data-tags="[]" data-execution_count="203">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> sns.histplot(data<span class="op">=</span>viddf[viddf[<span class="st">'durationSecs'</span>] <span class="op">&lt;</span> <span class="dv">10000</span>], x<span class="op">=</span><span class="st">"durationSecs"</span>, bins<span class="op">=</span><span class="dv">30</span>, color<span class="op">=</span><span class="st">"#9368b7"</span>)</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="Youtube_API_EDA_files/figure-html/cell-44-output-1.png" class="img-fluid"></p>
</div>
</div>
<p>Now we plot the duration against comment count and like count. It can be seen that actually shorter videos tend to get more likes and comments than very long videos.</p>
</section>
<section id="duration-vs-comment-count-like-count-plots" class="level4">
<h4 class="anchored" data-anchor-id="duration-vs-comment-count-like-count-plots">Duration vs Comment Count, Like Count Plots</h4>
<div class="cell" data-tags="[]" data-execution_count="204">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># matplotlib.use('module://matplotlib_inline.backend_inline')</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="co"># %matplotlib inline</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span>plt.subplots(<span class="dv">1</span>,<span class="dv">2</span>)</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>].yaxis.set_major_formatter(ticker.FuncFormatter(<span class="kw">lambda</span> x, pos: <span class="st">'{:,.0f}'</span>.<span class="bu">format</span>(x<span class="op">/</span><span class="dv">1000</span>) <span class="op">+</span> <span class="st">'K'</span>))</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(data <span class="op">=</span> viddf, x <span class="op">=</span> <span class="st">"durationSecs"</span>, y <span class="op">=</span> <span class="st">"commentCount"</span>, ax<span class="op">=</span>ax[<span class="dv">0</span>])</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(data <span class="op">=</span> viddf, x <span class="op">=</span> <span class="st">"durationSecs"</span>, y <span class="op">=</span> <span class="st">"likeCount"</span>, ax<span class="op">=</span>ax[<span class="dv">1</span>])</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a><span class="co">#ax[0].set_ylim(0,1e5)</span></span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>].yaxis.set_major_formatter(ticker.FuncFormatter(<span class="kw">lambda</span> x, pos: <span class="st">'{:,.0f}'</span>.<span class="bu">format</span>(x<span class="op">/</span><span class="dv">1000</span>) <span class="op">+</span> <span class="st">'K'</span>))</span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a><span class="co">#ax[1].set_ylim(0,1e5)</span></span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>].yaxis.set_major_formatter(ticker.FuncFormatter(<span class="kw">lambda</span> x, pos: <span class="st">'{:,.0f}'</span>.<span class="bu">format</span>(x<span class="op">/</span><span class="dv">1000</span>) <span class="op">+</span> <span class="st">'K'</span>))</span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>fig.tight_layout()</span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="Youtube_API_EDA_files/figure-html/cell-45-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
</section>
<section id="does-title-length-matter-for-views" class="level3">
<h3 class="anchored" data-anchor-id="does-title-length-matter-for-views">Does title length matter for views?</h3>
<section id="observations-3" class="level4">
<h4 class="anchored" data-anchor-id="observations-3">Observations</h4>
<p>There is no clear relationship between title length and views as seen the scatterplot below, but most-viewed videos tend to have average title length of 35-60 characters</p>
<div class="cell" data-tags="[]" data-execution_count="205">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> sns.scatterplot(data <span class="op">=</span> viddf, x <span class="op">=</span> <span class="st">"titleLength"</span>, y <span class="op">=</span> <span class="st">"viewCount"</span>)</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>ax.yaxis.set_major_formatter(ticker.FuncFormatter(<span class="kw">lambda</span> x, pos: <span class="st">'{:,.0f}'</span>.<span class="bu">format</span>(x<span class="op">/</span><span class="dv">1000</span>) <span class="op">+</span> <span class="st">'K'</span>))</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>ax.set_ylim(<span class="dv">0</span>,<span class="fl">1e7</span>)</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="Youtube_API_EDA_files/figure-html/cell-46-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
</section>
</section>
<section id="wordcloud-for-words-in-title" class="level2">
<h2 class="anchored" data-anchor-id="wordcloud-for-words-in-title">Wordcloud for words in title</h2>
<section id="observations-4" class="level4">
<h4 class="anchored" data-anchor-id="observations-4">Observations</h4>
<p>As I’m interested to see what the creators are making videos about and which terms most frequently appear in their video titles, I will create a wordcloud for the most common words. We first need to remove the stopwords such as “you”, “I”, “the”, etc. which do note contribute a lot to the meaning of the title. It can be seen that the main words posted in title are Life, Attraction, Love, Meditation, People and Thing.</p>
<div class="cell" data-tags="[]" data-execution_count="206">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="op">=</span> <span class="bu">set</span>(stopwords.words(<span class="st">'english'</span>))</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>viddf[<span class="st">'title_no_stopwords'</span>] <span class="op">=</span> viddf[<span class="st">'title'</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: [item <span class="cf">for</span> item <span class="kw">in</span> <span class="bu">str</span>(x).split() <span class="cf">if</span> item <span class="kw">not</span> <span class="kw">in</span> stop_words])</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>all_words <span class="op">=</span> <span class="bu">list</span>([a <span class="cf">for</span> b <span class="kw">in</span> viddf[<span class="st">'title_no_stopwords'</span>].tolist() <span class="cf">for</span> a <span class="kw">in</span> b])</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>all_words_str <span class="op">=</span> <span class="st">' '</span>.join(all_words) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="wordcloud-for-spiritual-content-video-titles" class="level4">
<h4 class="anchored" data-anchor-id="wordcloud-for-spiritual-content-video-titles">WordCloud for Spiritual Content Video Titles</h4>
<div class="cell" data-tags="[]" data-execution_count="207">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co"># matplotlib.use('module://matplotlib_inline.backend_inline')</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="co"># %matplotlib inline</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> plot_cloud(wordcloud):</span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>    plt.figure(figsize<span class="op">=</span>(<span class="dv">30</span>, <span class="dv">20</span>))</span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>    plt.imshow(wordcloud) </span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>    plt.axis(<span class="st">"off"</span>)<span class="op">;</span></span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>wordcloud <span class="op">=</span> WordCloud(width <span class="op">=</span> <span class="dv">1920</span>, height <span class="op">=</span> <span class="dv">780</span>, random_state<span class="op">=</span><span class="dv">1</span>, background_color<span class="op">=</span><span class="st">'black'</span>, </span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a>                      colormap<span class="op">=</span><span class="st">'viridis'</span>, collocations<span class="op">=</span><span class="va">False</span>).generate(all_words_str)</span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a>plot_cloud(wordcloud)</span>
<span id="cb52-11"><a href="#cb52-11" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="Youtube_API_EDA_files/figure-html/cell-48-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-tags="[]" data-execution_count="224">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># for i in sorted(wordcloud.words_.items(), key = lambda x: x[1],reverse = False):</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="co">#     if i[0] == 'sign gaur':</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a><span class="co">#         print(i)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="number-of-tags-vs-views" class="level3">
<h3 class="anchored" data-anchor-id="number-of-tags-vs-views">Number of tags vs views</h3>
<p>It seems that most videos have between 10 and 45 tags. The relationship between number of tags and view count is not clearly seen, but too few tags or too many tags do seem to correlate with fewer views.</p>
<div class="cell" data-tags="[]" data-execution_count="209">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>plot <span class="op">=</span> sns.scatterplot(data <span class="op">=</span> viddf, x <span class="op">=</span> <span class="st">"tagsCount"</span>, y <span class="op">=</span> <span class="st">"viewCount"</span>)</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>plot.yaxis.set_major_formatter(ticker.FuncFormatter(<span class="kw">lambda</span> x, pos: <span class="st">'{:,.0f}'</span>.<span class="bu">format</span>(x<span class="op">/</span><span class="dv">1000</span>) <span class="op">+</span> <span class="st">'K'</span>))</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="Youtube_API_EDA_files/figure-html/cell-50-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="which-day-in-the-week-are-most-videos-uploaded" class="level3">
<h3 class="anchored" data-anchor-id="which-day-in-the-week-are-most-videos-uploaded">Which day in the week are most videos uploaded</h3>
<section id="observations-5" class="level4">
<h4 class="anchored" data-anchor-id="observations-5">Observations</h4>
<p>It’s interesting to see that more videos are uploaded on Mondays, Wednesdays and Fridays. It seems the pattern is alternative in uploading the videos. This might be because of maintaining a consistency on channel, like when the user can more expect the videos, on a consistent basis.</p>
<div class="cell" data-tags="[]" data-execution_count="210">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>day_df <span class="op">=</span> pd.DataFrame(viddf[<span class="st">'pushblishDayName'</span>].value_counts())</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>weekdays <span class="op">=</span> [ <span class="st">'Monday'</span>, <span class="st">'Tuesday'</span>, <span class="st">'Wednesday'</span>, <span class="st">'Thursday'</span>, <span class="st">'Friday'</span>, <span class="st">'Saturday'</span>, <span class="st">'Sunday'</span>]</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>day_df <span class="op">=</span> day_df.reindex(weekdays)</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> day_df.reset_index().plot.bar(x<span class="op">=</span><span class="st">'index'</span>, y<span class="op">=</span><span class="st">'pushblishDayName'</span>, rot<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Days"</span>)</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Counts"</span>)</span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>plt.legend(labels <span class="op">=</span> [<span class="st">"Counts"</span>])</span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="Youtube_API_EDA_files/figure-html/cell-51-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
</section>
</section>
<section id="wordcloud-for-video-comments" class="level2">
<h2 class="anchored" data-anchor-id="wordcloud-for-video-comments">Wordcloud for video comments</h2>
<section id="observations-6" class="level4">
<h4 class="anchored" data-anchor-id="observations-6">Observations</h4>
<p>Like the video titles, the video comments also revolve around Love, Life, Sign, Thing, Attraction words</p>
<div class="cell" data-tags="[]" data-execution_count="211">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="op">=</span> <span class="bu">set</span>(stopwords.words(<span class="st">'english'</span>))</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>comdf[<span class="st">'comments_no_stopwords'</span>] <span class="op">=</span> comdf[<span class="st">'comments'</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: [item <span class="cf">for</span> item <span class="kw">in</span> <span class="bu">str</span>(x).split() <span class="cf">if</span> item <span class="kw">not</span> <span class="kw">in</span> stop_words])</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>all_words <span class="op">=</span> <span class="bu">list</span>([a <span class="cf">for</span> b <span class="kw">in</span> comdf[<span class="st">'comments_no_stopwords'</span>].tolist() <span class="cf">for</span> a <span class="kw">in</span> b])</span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>all_words_str <span class="op">=</span> <span class="st">' '</span>.join(all_words) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-tags="[]" data-execution_count="212">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># matplotlib.use('module://matplotlib_inline.backend_inline')</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="co"># %matplotlib inline</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>wordcloud <span class="op">=</span> WordCloud(width <span class="op">=</span> <span class="dv">1980</span>, height <span class="op">=</span> <span class="dv">720</span>, random_state<span class="op">=</span><span class="dv">1</span>, background_color<span class="op">=</span><span class="st">'black'</span>, </span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>                      colormap<span class="op">=</span><span class="st">'viridis'</span>, collocations<span class="op">=</span><span class="va">False</span>).generate(all_words_str)</span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>plot_cloud(wordcloud)</span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="Youtube_API_EDA_files/figure-html/cell-53-output-1.png" class="img-fluid"></p>
</div>
</div>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'alternate';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://giscus.app/client.js" data-repo="Yuvraj-Dhepe/DataBlog_V1" data-repo-id="R_kgDOJMncgA" data-category="Announcements" data-category-id="DIC_kwDOJMncgM4CVqbZ" data-mapping="pathname" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light_protanopia" data-lang="en" crossorigin="anonymous" async="">
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">This page is built with ❤️ and <a href="https://quarto.org">Quarto</a></div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/yuvraj-shivaji-dhepe-22974919a/">
      <i class="bi bi-linkedin" role="img" aria-label="My LinkedIn">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/Yuvraj-Dhepe">
      <i class="bi bi-github" role="img" aria-label="My Github">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://medium.com/@yuvrajdhepe">
      <i class="bi bi-medium" role="img" aria-label="My Medium">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>



</body></html>